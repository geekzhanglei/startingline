<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>计算器练习</title>
	<style>
	#cal {
			width:600px;
			height:400px;
			border:2px solid gray;
			position: absolute;left:30%;top:10%;
			background-color: #ccccff;
			cellpadding:0;
			cellspacing:0;

		 }
	tr,td {border: 1px solid gray;text-align:center;}
	input {width:90px;height: 50px;font-size: 2em;}
	#displayhere {width:418px;height: 45px;background-color: #0080FF;}
	#tabround {border:0;}
	p {color:blue;text-align:center;position:absolute;top:80%;left:10%;font-size: 2em; text-indent:-50px;}
	</style>
	<script>
	// 创建按钮类
	function inputbutt()
	{
		var num="0";

		this.inputnum=function(argu)
		{	
			// 以下这行不能放外边，否则文档没加载就获取，自然获取不到，应写在函数里
			var disp=document.getElementById("displayhere");
			switch (argu)
			{	
				case 1:
				num+=1; 
				disp.value=parseFloat(num);
				break;
				case 2:
				num+=2;
				disp.value=parseFloat(num);
				break;
				case 3:
				num+=3;
				disp.value=parseFloat(num);
				break;
				case 4:
				num+=4;
				disp.value=parseFloat(num);
				break;
				case 5:
				num+=5;
				disp.value=parseFloat(num);
				break;
				case 6:
				num+=6;
				disp.value=parseFloat(num);
				break;
				case 7:
				num+=7;
				disp.value=parseFloat(num);
				break;
				case 8:
				num+=8;
				disp.value=parseFloat(num);
				break;
				case 9:
				num+=9;
				disp.value=parseFloat(num);
				break;
				case 0:
				num+=0;
				disp.value=parseFloat(num);
				break;
				//f为小数点
				case "f":
				num=parseInt(num);
				num+=".";
				disp.value=num;
				break;	
			}
			
		}
		this.inputargu=function(argu)
		{
			var disp=document.getElementById("displayhere");
			switch (argu)
			{
				// xyz为开关、清空、回退
				case "x": 
				if(disp.style.visibility=="hidden")
					{
					disp.style.visibility="visible";
					disp.value=0;
					}
				else
					disp.style.visibility="hidden";
				break;
				case "y":
				num="0";
				b=0;
				disp.value=0;
				break;
				case "z":
				num="0";
				disp.value=0;
				break;
				// abcd代表加减乘除
				case "a":
				b=parseFloat(num);
				num="0";
				calcchar=1;
				disp.value="+";
				break;
				case "b":
				b=parseFloat(num);
				num="0";
				calcchar=2;
				disp.value="-";
				break;
				case "c":
				b=parseFloat(num);
				num="0";				
				calcchar=3;
				disp.value="*";
				break;
				case "d":
				b=parseFloat(num);
				num="0";			
				calcchar=4;
				disp.value="/";
				break;
			}	
		}
		this.equal=function()
		{
			var disp=document.getElementById("displayhere");
			switch (calcchar)
			{
				case 1:
				num=parseFloat(num);
				var myexpression=b+num;
				num="0";
				b=0;
				disp.value="="+myexpression;
				break;
				case 2:
				num=parseFloat(num);
				var myexpression=b-num;
				num="0";
				b=0;
				disp.value="="+myexpression;
				break;
				case 3:
				num=parseFloat(num);
				var myexpression=b*num;
				num="0";
				b=0;
				disp.value="="+myexpression;
				break;
				case 4:
				num=parseFloat(num);
				var myexpression=b/num;
				num="0";
				b=0;
				disp.value="="+myexpression;
				break;
			}
		}
		
	}
	// 创建类的实例
	var shuru=new inputbutt();
	</script>
</head>
<body>
	<table id="cal">
		<tr>
			<td colspan="4"><input id="displayhere" type="text" value="0" style="visibility:hidden"></td>
		</tr>
		<tr>
		<td id="tabround" colspan="4">
			<table width="100%" height="100%">
				<tr>
			<td><input type="button" onclick="shuru.inputargu('x')" value="开/关"></td>
			<td><input type="button" onclick="shuru.inputargu('y')" value="清 空"></td>
			<td><input type="button" onclick="shuru.inputargu('z')" value="后 退"></td>
				</tr>
			</table>
		</td>
					
		</tr>
		<tr>
			<td><input type="button" onclick="shuru.inputnum(1)" value="1"></td>
			<td><input type="button" onclick="shuru.inputnum(2)" value="2"></td>
			<td><input type="button" onclick="shuru.inputnum(3)" value="3"></td>
			<td><input type="button" onclick="shuru.inputnum(4)" value="4"></td>
		</tr>
		<tr>
			<td><input type="button" onclick="shuru.inputnum(5)" value="5"></td>
			<td><input type="button" onclick="shuru.inputnum(6)" value="6"></td>
			<td><input type="button" onclick="shuru.inputnum(7)" value="7"></td>
			<td><input type="button" onclick="shuru.inputnum(8)" value="8"></td>
		</tr>
		<tr>
			<td><input type="button" onclick="shuru.inputnum(9)" value="9"></td>
			<td><input type="button" onclick="shuru.inputnum(0)" value="0"></td>
			<td><input type="button" onclick="shuru.inputnum('f')" value="."></td>
			<td><input type="button" onclick="shuru.equal()" value="="></td>
		</tr>
		<tr>
			<td><input type="button" onclick="shuru.inputargu('a')" value="+"></td>
			<td><input type="button" onclick="shuru.inputargu('b')" value="-"></td>
			<td><input type="button" onclick="shuru.inputargu('c')" value="*"></td>
			<td><input type="button" onclick="shuru.inputargu('d')" value="/"></td>
		</tr>
	</table>
	<p>
		注：回退指删掉当前的数字重新输入，与清空不同，如在等号前执行两者可看到差别
	</p>
</body>
</html>
